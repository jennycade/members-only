doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1')

    link(
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    )
    link(rel='stylesheet', href='/stylesheets/style.css')

    title!= title
  body
    nav.navbar.navbar-expand-lg.navbar-light.bg-light
      .container-fluid 
        a.navbar-brand(href='/') Members Only 

        button.navbar-toggler(
          type='button'
          data-bs-toggle='collapse'
          data-bs-target='#navbarSupportedContent'
          aria-controls='navbarSupportedContent'
          aria-expanded='false'
          aria-label='Toggle navigation'
        )
          span.navbar-toggler-icon
        
        

        if currentUser
          .collapse.navbar-collapse.justify-content-between(id='navbarSupportedContent')
            ul.navbar-nav.me-auto-mb-2.mb-lg-0.align-items-center
              li.nav-item
                a.nav-link.text-primary(
                  href='/create-message'
                ) New message 
            .dropdown 
              button.btn.btn-secondary.dropdown-toggle(
                type='button'
                id='navbarDropdown'
                data-bs-toggle='dropdown'
                data-bs-display='static'
                aria-expanded='false'
              )!= currentUser.nickname

              ul.py-0.dropdown-menu.dropdown-menu-lg-end(aria-labelledby='navbarDropdown')
                li.py-60 
                  a.dropdown-item(href='/sign-out') Sign out
        
        else 
          .collapse.navbar-collapse.justify-content-center(id='navbarSupportedContent')
            ul.navbar-nav.me-auto-mb-2.mb-sm-0.align-items-center
              li.nav-item
                form.d-flex(action='/sign-in' method='post')
                  input.form-control.me-2(
                    type='text'
                    id='username'
                    name='username'
                    placeholder='username'
                  )
                  input.form-control.me-2(
                    type='password'
                    id='password'
                    name='password'
                    placeholder='password'
                  )
                  input.btn.btn-primary(
                    type='submit'
                    value='Sign in'
                  )
                | 
                li.navbar-text.mx-3 or 
                li.nav-item 
                  a.btn.btn-outline-secondary(href='/sign-up') Sign up
                

              
    .container-fluid.p-5
      .row 
        block content

    script(
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    )
